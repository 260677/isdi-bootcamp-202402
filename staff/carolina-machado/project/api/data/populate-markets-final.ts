import mongoose from 'mongoose'

import { User, Wine, Point, Market, Review } from '.'
import { ObjectId } from 'mongodb'

mongoose.connect('mongodb://localhost:27017/project')
    .then(() => Point.deleteMany())
    .then(() => Market.deleteMany())
    .then(() => {
        const point1 = new Point({ type: 'Point', coordinates: [41.380914,2.1506411] })
        const point2 = new Point({ type: 'Point', coordinates: [41.376267,2.1137611] })
        const point5 = new Point({ type: 'Point', coordinates: [41.4065503,2.2100329] })
        const point15 = new Point({ type: 'Point', coordinates: [41.3876077,2.1436569] })
        const point3 = new Point({ type: 'Point', coordinates: [41.4020559,2.2041401] })
        const point6 = new Point({ type: 'Point', coordinates: [41.4027215,2.2009681] })
        const point8 = new Point({ type: 'Point', coordinates: [41.3794572,2.1508504] })
        const point9 = new Point({ type: 'Point', coordinates: [41.3791358,2.1595525] })
        const point10 = new Point({ type: 'Point', coordinates: [41.3796277,2.1438884] })
        const point11 = new Point({ type: 'Point', coordinates: [41.3794138,2.1522515] })
        const point12 = new Point({ type: 'Point', coordinates: [41.3838244,2.1063495] })
        const point4 = new Point({ type: 'Point', coordinates: [41.4032558,2.2054205] })
        const point16 = new Point({ type: 'Point', coordinates: [41.4176063,2.2039694] })

        return Promise.all([
            Market.create({ title: 'Condis Taulat', address: 'Calle Taulat, 185', location: point3, wines: ['664623a5cd6d9cd0cce38e28', '664623a5cd6d9cd0cce38e27', '664623a5cd6d9cd0cce38e26', '664623a5cd6d9cd0cce38e15', '664623a5cd6d9cd0cce38e24', '664623a5cd6d9cd0cce38e23', '664623a5cd6d9cd0cce38e22', '664623a5cd6d9cd0cce38e20', '664623a5cd6d9cd0cce38e1f', '664623a5cd6d9cd0cce38e1e', '664623a5cd6d9cd0cce38e1d', '664623a5cd6d9cd0cce38e1c', '664623a5cd6d9cd0cce38e1b', '664623a5cd6d9cd0cce38e1a', '664623a5cd6d9cd0cce38e19', '664623a5cd6d9cd0cce38e18', '664623a5cd6d9cd0cce38e16', '664623a5cd6d9cd0cce38e14', '664623a5cd6d9cd0cce38e13', '664623a5cd6d9cd0cce38e17', '664623a5cd6d9cd0cce38e2a', '664623a5cd6d9cd0cce38e29', '664623a5cd6d9cd0cce38e2d', '664623a5cd6d9cd0cce38e25'] }),
            Market.create({ title: 'Condis Bilbao', address: 'Calle Bilbao, 53', location: point6, wines: ['664623a5cd6d9cd0cce38e28', '664623a5cd6d9cd0cce38e27', '664623a5cd6d9cd0cce38e26', '664623a5cd6d9cd0cce38e15', '664623a5cd6d9cd0cce38e24', '664623a5cd6d9cd0cce38e23', '664623a5cd6d9cd0cce38e22', '664623a5cd6d9cd0cce38e20', '664623a5cd6d9cd0cce38e1f', '664623a5cd6d9cd0cce38e1e', '664623a5cd6d9cd0cce38e1d', '664623a5cd6d9cd0cce38e1c', '664623a5cd6d9cd0cce38e1b', '664623a5cd6d9cd0cce38e1a', '664623a5cd6d9cd0cce38e19', '664623a5cd6d9cd0cce38e18', '664623a5cd6d9cd0cce38e16', '664623a5cd6d9cd0cce38e14', '664623a5cd6d9cd0cce38e13', '664623a5cd6d9cd0cce38e17', '664623a5cd6d9cd0cce38e2a', '664623a5cd6d9cd0cce38e29', '664623a5cd6d9cd0cce38e2d', '664623a5cd6d9cd0cce38e25']  }),
            Market.create({ title: 'Condis Entença', address: 'Calle Entença, 85', location: point8, wines: ['664623a5cd6d9cd0cce38e28', '664623a5cd6d9cd0cce38e27', '664623a5cd6d9cd0cce38e26', '664623a5cd6d9cd0cce38e15', '664623a5cd6d9cd0cce38e24', '664623a5cd6d9cd0cce38e23', '664623a5cd6d9cd0cce38e22', '664623a5cd6d9cd0cce38e20', '664623a5cd6d9cd0cce38e1f', '664623a5cd6d9cd0cce38e1e', '664623a5cd6d9cd0cce38e1d', '664623a5cd6d9cd0cce38e1c', '664623a5cd6d9cd0cce38e1b', '664623a5cd6d9cd0cce38e1a', '664623a5cd6d9cd0cce38e19', '664623a5cd6d9cd0cce38e18', '664623a5cd6d9cd0cce38e16', '664623a5cd6d9cd0cce38e14', '664623a5cd6d9cd0cce38e13', '664623a5cd6d9cd0cce38e17', '664623a5cd6d9cd0cce38e2a', '664623a5cd6d9cd0cce38e29', '664623a5cd6d9cd0cce38e2d', '664623a5cd6d9cd0cce38e25']  }),
            Market.create({ title: 'Condis Floridablanca', address: 'Calle Floridablanca, 96', location: point9, wines: ['664623a5cd6d9cd0cce38e28', '664623a5cd6d9cd0cce38e27', '664623a5cd6d9cd0cce38e26', '664623a5cd6d9cd0cce38e15', '664623a5cd6d9cd0cce38e24', '664623a5cd6d9cd0cce38e23', '664623a5cd6d9cd0cce38e22', '664623a5cd6d9cd0cce38e20', '664623a5cd6d9cd0cce38e1f', '664623a5cd6d9cd0cce38e1e', '664623a5cd6d9cd0cce38e1d', '664623a5cd6d9cd0cce38e1c', '664623a5cd6d9cd0cce38e1b', '664623a5cd6d9cd0cce38e1a', '664623a5cd6d9cd0cce38e19', '664623a5cd6d9cd0cce38e18', '664623a5cd6d9cd0cce38e16', '664623a5cd6d9cd0cce38e14', '664623a5cd6d9cd0cce38e13', '664623a5cd6d9cd0cce38e17', '664623a5cd6d9cd0cce38e2a', '664623a5cd6d9cd0cce38e29', '664623a5cd6d9cd0cce38e2d', '664623a5cd6d9cd0cce38e25']  }),
            Market.create({ title: 'Condis Llança', address: 'Calle de Llança, 48', location: point10, wines: ['664623a5cd6d9cd0cce38e28', '664623a5cd6d9cd0cce38e27', '664623a5cd6d9cd0cce38e26', '664623a5cd6d9cd0cce38e15', '664623a5cd6d9cd0cce38e24', '664623a5cd6d9cd0cce38e23', '664623a5cd6d9cd0cce38e22', '664623a5cd6d9cd0cce38e20', '664623a5cd6d9cd0cce38e1f', '664623a5cd6d9cd0cce38e1e', '664623a5cd6d9cd0cce38e1d', '664623a5cd6d9cd0cce38e1c', '664623a5cd6d9cd0cce38e1b', '664623a5cd6d9cd0cce38e1a', '664623a5cd6d9cd0cce38e19', '664623a5cd6d9cd0cce38e18', '664623a5cd6d9cd0cce38e16', '664623a5cd6d9cd0cce38e14', '664623a5cd6d9cd0cce38e13', '664623a5cd6d9cd0cce38e17', '664623a5cd6d9cd0cce38e2a', '664623a5cd6d9cd0cce38e29', '664623a5cd6d9cd0cce38e2d', '664623a5cd6d9cd0cce38e25']  }),
            Market.create({ title: 'Bonpreu Tamarit', address: 'Calle Tamarit, 130', location: point11, wines: ['664623a5cd6d9cd0cce38e21', '664623a5cd6d9cd0cce38e39', '664623a5cd6d9cd0cce38e38', '664623a5cd6d9cd0cce38e37', '664623a5cd6d9cd0cce38e36', '664623a5cd6d9cd0cce38e35', '664623a5cd6d9cd0cce38e34', '664623a5cd6d9cd0cce38e33', '664623a5cd6d9cd0cce38e32', '664623a5cd6d9cd0cce38e31', '664623a5cd6d9cd0cce38e30', '664623a5cd6d9cd0cce38e2f', '664623a5cd6d9cd0cce38e2e', '664623a5cd6d9cd0cce38e2c'] }),
            Market.create({ title: 'Bonpreu Josep Tarradellas', address: 'Calle Josep Tarradellas, 45', location: point12, wines: ['664623a5cd6d9cd0cce38e21', '664623a5cd6d9cd0cce38e39', '664623a5cd6d9cd0cce38e38', '664623a5cd6d9cd0cce38e37', '664623a5cd6d9cd0cce38e36', '664623a5cd6d9cd0cce38e35', '664623a5cd6d9cd0cce38e34', '664623a5cd6d9cd0cce38e33', '664623a5cd6d9cd0cce38e32', '664623a5cd6d9cd0cce38e31', '664623a5cd6d9cd0cce38e30', '664623a5cd6d9cd0cce38e2f', '664623a5cd6d9cd0cce38e2e', '664623a5cd6d9cd0cce38e2c']}),
            Market.create({ title: 'Bonpreu Llull', address: 'Calle Lull, 200', location: point4, wines: ['664623a5cd6d9cd0cce38e21', '664623a5cd6d9cd0cce38e39', '664623a5cd6d9cd0cce38e38', '664623a5cd6d9cd0cce38e37', '664623a5cd6d9cd0cce38e36', '664623a5cd6d9cd0cce38e35', '664623a5cd6d9cd0cce38e34', '664623a5cd6d9cd0cce38e33', '664623a5cd6d9cd0cce38e32', '664623a5cd6d9cd0cce38e31', '664623a5cd6d9cd0cce38e30', '664623a5cd6d9cd0cce38e2f', '664623a5cd6d9cd0cce38e2e', '664623a5cd6d9cd0cce38e2c'] }),
            Market.create({ title: 'Mercadona Calabria', address: 'Calle Calabria, 129', location: point1, wines: ['664623a5cd6d9cd0cce38e3c', '664623a5cd6d9cd0cce38e3a', '664623a5cd6d9cd0cce38e3b', '664623a5cd6d9cd0cce38e2b', '664623a5cd6d9cd0cce38e3f', '664623a5cd6d9cd0cce38e43', '664623a5cd6d9cd0cce38e44', '664623a5cd6d9cd0cce38e42', '664623a5cd6d9cd0cce38e41', '664623a5cd6d9cd0cce38e40', '664623a5cd6d9cd0cce38e3e', '664623a5cd6d9cd0cce38e3d'] }),
            Market.create({ title: 'Mercadona Gran Via', address: 'Gran Via de les Corts Catalanes, 373', location: point2, wines: ['664623a5cd6d9cd0cce38e3c', '664623a5cd6d9cd0cce38e3a', '664623a5cd6d9cd0cce38e3b', '664623a5cd6d9cd0cce38e2b', '664623a5cd6d9cd0cce38e3f', '664623a5cd6d9cd0cce38e43', '664623a5cd6d9cd0cce38e44', '664623a5cd6d9cd0cce38e42', '664623a5cd6d9cd0cce38e41', '664623a5cd6d9cd0cce38e40', '664623a5cd6d9cd0cce38e3e', '664623a5cd6d9cd0cce38e3d'] }),
            Market.create({ title: 'Mercadona Provençals', address: 'Calle Provençals, 5', location: point5, wines: ['664623a5cd6d9cd0cce38e3c', '664623a5cd6d9cd0cce38e3a', '664623a5cd6d9cd0cce38e3b', '664623a5cd6d9cd0cce38e2b', '664623a5cd6d9cd0cce38e3f', '664623a5cd6d9cd0cce38e43', '664623a5cd6d9cd0cce38e44', '664623a5cd6d9cd0cce38e42', '664623a5cd6d9cd0cce38e41', '664623a5cd6d9cd0cce38e40', '664623a5cd6d9cd0cce38e3e', '664623a5cd6d9cd0cce38e3d'] }),
            Market.create({ title: 'Mercadona Villadomat', address: 'Calle Viladomat, 279', location: point15, wines: ['664623a5cd6d9cd0cce38e3c', '664623a5cd6d9cd0cce38e3a', '664623a5cd6d9cd0cce38e3b', '664623a5cd6d9cd0cce38e2b', '664623a5cd6d9cd0cce38e3f', '664623a5cd6d9cd0cce38e43', '664623a5cd6d9cd0cce38e44', '664623a5cd6d9cd0cce38e42', '664623a5cd6d9cd0cce38e41', '664623a5cd6d9cd0cce38e40', '664623a5cd6d9cd0cce38e3e', '664623a5cd6d9cd0cce38e3d'] }),
            Market.create({ title: 'Mercadona Veneçuela', address: 'Calle Veneçuela, 139', location: point16, wines: ['664623a5cd6d9cd0cce38e3c', '664623a5cd6d9cd0cce38e3a', '664623a5cd6d9cd0cce38e3b', '664623a5cd6d9cd0cce38e2b', '664623a5cd6d9cd0cce38e3f', '664623a5cd6d9cd0cce38e43', '664623a5cd6d9cd0cce38e44', '664623a5cd6d9cd0cce38e42', '664623a5cd6d9cd0cce38e41', '664623a5cd6d9cd0cce38e40', '664623a5cd6d9cd0cce38e3e', '664623a5cd6d9cd0cce38e3d'] }),
        ]);
    })
    .then(() => mongoose.disconnect())
    .then(() => console.log('populated'))
    .catch(console.error)